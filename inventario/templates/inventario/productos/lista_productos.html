
{% extends 'inventario/base.html' %}
{% block contenido %}

<h2 class="mb-3">Lista de Productos</h2>

<a class="btn btn-primary mb-3" href="{% url 'agregar_producto' %}">Agregar Producto</a>

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Nombre</th>
            <th>Categoría</th>
            <th>Cantidad</th>
            <th>Stock mínimo</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        {% for p in productos %}
        <tr 
            {% if p.cantidad <= p.stock_minimo %} class="table-danger" {% endif %}
        >
            <td>{{ p.nombre }}</td>
            <td>{{ p.categoria }}</td>
            <td>{{ p.cantidad }}</td>
            <td>{{ p.stock_minimo }}</td>

            <td>
                <a class="btn btn-warning btn-sm" href="{% url 'editar_producto' p.id %}">Editar</a>
                <a class="btn btn-danger btn-sm" href="{% url 'eliminar_producto' p.id %}">Eliminar</a>
                <a class="btn btn-success btn-sm" href="{% url 'registrar_entrada' p.id %}">Entrada</a>
                <a class="btn btn-secondary btn-sm" href="{% url 'registrar_salida' p.id %}">Salida</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
